{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Norification.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","id","delete","update","put","Filter","filter","onChange","value","PersonForm","onSubmit","newName","newNumber","onNameChange","onNumberChange","type","Persons","persons","onDelete","map","name","number","key","onClick","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personsService","personsToShow","toLowerCase","indexOf","e","target","preventDefault","person","find","newPerson","window","confirm","returnedPerson","catch","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.38bbffaa.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  deletePerson,\r\n  update,\r\n};\r\n","import React from 'react';\r\n\r\nexport default function Filter({ filter, onChange }) {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={filter} onChange={onChange} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function PersonForm({ onSubmit, newName, newNumber, onNameChange, onNumberChange }) {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={onNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={onNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Persons({ persons, onDelete }) {\r\n  return (\r\n    <>\r\n      {persons.map(({ name, number, id }) => (\r\n        <p key={id}>\r\n          {name} {number}\r\n          <button onClick={() => onDelete(id)}>delete</button>\r\n        </p>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className=\"error\">{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\n\nimport personsService from './services/persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Norification';\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personsService.getAll().then(persons => {\n      setPersons(persons);\n    });\n  }, []);\n\n  function handlePersonAdd(e) {\n    e.preventDefault();\n    const person = persons.find(({ name }) => name === newName);\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (person) {\n      if (\n        window.confirm(\n          `${person.name} is already added to phonebook, replace the old number with new one?`\n        )\n      ) {\n        const { id } = person;\n        personsService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => (person.id !== id ? person : returnedPerson)));\n            setMessage(`Updated ${newName}`);\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(() => {\n            setMessage(`Information of ${newName} has already been removed from server`);\n            setPersons(persons.filter(person => person.id !== id));\n          });\n      }\n      return;\n    }\n\n    personsService.create(newPerson).then(person => {\n      setMessage(`Added ${newName}`);\n      setPersons([...persons, person]);\n      setNewName('');\n      setNewNumber('');\n    });\n\n    setTimeout(() => setMessage(null), 3000);\n  }\n\n  function handlePersonDelete(id) {\n    const { name } = persons.find(person => person.id === id);\n\n    if (window.confirm(`Delete ${name}`)) {\n      personsService.deletePerson(id).then(() => {\n        setPersons(persons.filter(person => person.id !== id));\n        setMessage(`Deleted ${name}`);\n      });\n    }\n    setTimeout(() => setMessage(null), 3000);\n  }\n\n  function handleNameChange(e) {\n    setNewName(e.target.value);\n  }\n  function handleNumberChange(e) {\n    setNewNumber(e.target.value);\n  }\n  function handleFilterChange(e) {\n    setFilter(e.target.value);\n  }\n\n  const personsToShow =\n    filter === ''\n      ? persons\n      : persons.filter(({ name }) => name.toLowerCase().indexOf(filter.toLowerCase()) > -1);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        onSubmit={handlePersonAdd}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons onDelete={handlePersonDelete} persons={personsToShow} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}